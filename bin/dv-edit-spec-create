#!/bin/bash
source $(dv-path lib/common.sh) # -*-mode: sh-mode -*-

dv-file-exists docs/user-request.md

export DV_PROMPT="
Carefully study the provided user story or software description and design a unix command line tool the will provide the desired functionality. Think carefully about all the features the software needs to have to meet the likely needs of the user as described.

Now, write a simple and clean specification of that software, briefly stating everything it needs to do. Making all the necessary design decisions, such as option names and output format, using your best understanding of what the user liked wants.

If command-line tests are included, make sure the spec aligns with them, since the result will have the pass all the tests.

Use console fenced code blocks with examples to help clarify the behavior of the specified software. The code blocks should run in a clean bash shell. Use '...' as a wildcard when needed in the example output.

Use formal languages (eg BNF) and technical jargon when they make the text more clear for an expert reader.

Do not say anything about how the implementation works internally. We only want to specify observable behavior.

Put your output in this file: docs/specification.md
"

log_info dv-edit-spec-create
dv-edit docs/user-request.md cltest

dv-file-exists docs/specification.md

